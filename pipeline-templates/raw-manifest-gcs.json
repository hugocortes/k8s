{
  "schema": "v2",
  "variables": [
    {
      "type": "string",
      "defaultValue": "default",
      "description": "Namespace target.",
      "name": "namespace"
    },
    {
      "type": "string",
      "defaultValue": "",
      "description": "Raw manifest GCS.",
      "name": "rawManifestGCS"
    }
  ],
  "id": "0a75d8cb-3871-42a4-9d1b-6de609890d7b",
  "protect": false,
  "metadata": {
    "name": "Raw Manifest GCS",
    "description": "Deploys a single manifest from GCS.",
    "owner": "contact@hugocortes.dev",
    "scopes": ["global"]
  },
  "pipeline": {
    "lastModifiedBy": "anonymous",
    "updateTs": "0",
    "parameterConfig": [],
    "limitConcurrent": true,
    "keepWaitingPipelines": false,
    "description": "",
    "triggers": [],
    "notifications": [],
    
    "expectedArtifacts": [
      {
        "defaultArtifact": {
          "artifactAccount": "gcs",
          "name": "${ templateVariables.rawManifestGCS }",
          "reference": "${ templateVariables.rawManifestGCS }",
          "type": "gcs/object"
        },
        "matchArtifact": {
          "artifactAccount": "gcs",
          "name": "${ templateVariables.rawManifestGCS }",
          "reference": "${ templateVariables.rawManifestGCS }",
          "type": "gcs/object"
        },
        "useDefaultArtifact": true,
        "usePriorArtifact": false,
        "displayName": "rawManifestGCS",
        "id": "rawManifestGCSArtifactID"
      }
    ],
    "stages": [
      {
        "account": "default",
        "cloudProvider": "kubernetes",
        "manifestArtifactAccount": "gcs",
        "manifestArtifactId": "rawManifestGCSArtifactID",
        "name": "Deploy (Manifest)",
        "namespaceOverride": "${ templateVariables.namespace }",
        "moniker": {
          "app": "${ execution['application'] }"
        },
        "notifications": [],
        "refId": "1",
        "relationships": {
          "loadBalancers": [],
          "securityGroups": []
        },
        "requiredArtifactIds": [],
        "requisiteStageRefIds": [],
        "sendNotifications": false,
        "source": "artifact",
        "failPipeline": true,
        "skipExpressionEvaluation": false,
        "type": "deployManifest"
      }
    ]
  }
}
