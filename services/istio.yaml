# istio custom settings
global:
  configValidation: false
  mtls:
    enabled: true
  k8sIngress:
    enabled: false
    enableHttps: false
    gatewayName: ingressgateway
  defaultResources:
    requests:
      cpu: 125m
      memory: 256Mi
    limits:
      cpu: 250m
      memory: 512Mi
  proxy:
    resources:
      requests:
        cpu: 125m
        memory: 256Mi
      limits:
        cpu: 250m
        memory: 512Mi
sidecarInjectorWebhook:
  enabled: true
  rewriteAppHTTPProbe: true
mixer:
  telemetry:
    resources:
      requests:
        cpu: 125m
        memory: 256Mi
      limits:
        cpu: 250m
        memory: 512Mi
pilot:
  resources:
    requests:
      cpu: 125m
      memory: 256Mi
    limits:
      cpu: 250m
      memory: 512Mi
grafana:
  enabled: false
prometheus:
  enabled: false
certmanager:
  enabled: false
gateways:
  istio-ingressgateway:
    enabled: true
    loadBalancerIP: ""
    sds:
      enabled: true
    resources:
      requests:
        cpu: 125m
        memory: 256Mi
      limits:
        cpu: 250m
        memory: 512Mi
    env:
      ISTIO_META_HTTP10: '"1"'
    ports:
      # Default port list copied from the original subchart values
    - port: 15020
      targetPort: 15020
      name: status-port
    - port: 80
      targetPort: 80
      name: http2
      nodePort: 31380
    - port: 443
      name: https
      nodePort: 31390
    - port: 15029
      targetPort: 15029
      name: https-kiali
    - port: 15030
      targetPort: 15030
      name: https-prometheus
    - port: 15031
      targetPort: 15031
      name: https-grafana
    - port: 15032
      targetPort: 15032
      name: https-tracing
      # This is the port where sni routing happens
    - port: 15443
      targetPort: 15443
      name: tls
    # Additional Ports #
    # node port range: 30000-32767 #
    - port: 3000
      targetPort: 3000
      nodePort: 31370
      name: http-grafana
    - port: 9090
      targetPort: 9090
      nodePort: 31360
      name: http-prometheus
    - port: 3306
      targetPort: 3306
      name: mysql
    - port: 6379
      targetPort: 6379
      name: redis
    - port: 5432
      targetPort: 5432
      name: postgres
    - port: 27017
      targetPort: 27017
      name: mongo
    - port: 9200
      targetPort: 9200
      name: elasticsearch
    - port: 5672
      targetPort: 5672
      name: rabbitmq
    - port: 15672
      targetPort: 15672
      name: rabbitmq-http
    - port: 1883
      targetPort: 1883
      name: mqtt
