global:
  configValidation: false
  mtls:
    enabled: true
  k8sIngress:
    enabled: false
    enableHttps: false
    gatewayName: ingressgateway
  defaultResources:
    requests:
      cpu: 75m
      memory: 256Mi
    limits:
      cpu: 150m
      memory: 512Mi
  proxy:
    resources:
      requests:
        cpu: 75m
        memory: 256Mi
      limits:
        cpu: 150m
        memory: 512Mi
sidecarInjectorWebhook:
  enabled: true
  rewriteAppHTTPProbe: true
mixer:
  telemetry:
    resources:
      requests:
        cpu: 75m
        memory: 256Mi
      limits:
        cpu: 150m
        memory: 512Mi
pilot:
  resources:
    requests:
      cpu: 75m
      memory: 256Mi
    limits:
      cpu: 150m
      memory: 512Mi
grafana:
  enabled: false
prometheus:
  enabled: false
certmanager:
  enabled: false
gateways:
  istio-ingressgateway:
    enabled: true
    loadBalancerIP: ""
    sds:
      enabled: true
    env:
      ISTIO_META_HTTP10: '"1"'
    resources:
      requests:
        cpu: 75m
        memory: 256Mi
      limits:
        cpu: 150m
        memory: 512Mi
    ports:
      # Default port list copied from the original subchart values
    - port: 15020
      targetPort: 15020
      name: status-port
    - port: 80
      targetPort: 80
      name: http2
      nodePort: 31380
    - port: 443
      name: https
      nodePort: 31390
    - port: 15029
      targetPort: 15029
      name: https-kiali
    - port: 15030
      targetPort: 15030
      name: https-prometheus
    - port: 15031
      targetPort: 15031
      name: https-grafana
    - port: 15032
      targetPort: 15032
      name: https-tracing
      # This is the port where sni routing happens
    - port: 15443
      targetPort: 15443
      name: tls
    # Additional Ports #
    # node port range: 30000-32767 #
    - port: 3000
      targetPort: 3000
      nodePort: 31370
      name: http-grafana
    - port: 9090
      targetPort: 9090
      nodePort: 31360
      name: http-prometheus
    - port: 3306
      targetPort: 3306
      name: mysql
    - port: 6379
      targetPort: 6379
      name: redis
    - port: 5432
      targetPort: 5432
      name: postgres
    - port: 27017
      targetPort: 27017
      name: mongo
    - port: 9200
      targetPort: 9200
      name: elasticsearch
    - port: 5672
      targetPort: 5672
      name: rabbitmq
    - port: 15672
      targetPort: 15672
      name: rabbitmq-http
    - port: 1883
      targetPort: 1883
      name: mqtt
  istio-internalgateway:
    namespace: istio-system
    enabled: true
    type: LoadBalancer
    loadBalancerIP: ""
    sds:
      enabled: true
      image: node-agent-k8s
    labels:
      app: istio-internalgateway
      istio: internalgateway
    replicaCount: 1
    autoscaleMin: 1
    autoscaleMax: 2
    resources:
      requests:
        cpu: 75m
        memory: 256Mi
      limits:
        cpu: 150m
        memory: 512Mi
    ports:
    - port: 80
      targetPort: 80
      name: http2
    - port: 443
      name: https
    - port: 3306
      targetPort: 3306
      name: mysql
    - port: 6379
      targetPort: 6379
      name: redis
    - port: 5432
      targetPort: 5432
      name: postgresql
    - port: 8086
      targetPort: 8086
      name: influxdb
    - port: 9090
      targetPort: 9090
      name: prometheus
    - port: 9093
      targetPort: 9093
      name: alertmanager
    - port: 9200
      targetPort: 9200
      name: elasticsearch
    - port: 23848
      targetPort: 23848
      name: transmission
    - port: 27017
      targetPort: 27017
      name: mongodb
    secretVolumes:
    - name: ingressgateway-certs
      secretName: istio-ingressgateway-certs
      mountPath: /etc/istio/ingressgateway-certs
    - name: ingressgateway-ca-certs
      secretName: istio-ingressgateway-ca-certs
      mountPath: /etc/istio/ingressgateway-ca-certs
