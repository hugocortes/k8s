# spinnaker custom settings
halyard:
  spinnakerVersion: 1.16.1
  image:
    tag: 1.23.1
  additionalScripts:
    enabled: false
    create: true
    data:
      enable_helm_artifact.sh: |-
        echo "enabling helm artifact"
        $HAL_COMMAND config artifact helm enable
        $HAL_COMMAND config artifact helm account add stable \
          --repository https://storage.googleapis.com/homelabprojects-public
        $HAL_COMMAND config artifact helm account add openfaas \
          --repository https://openfaas.github.io/faas-netes
        $HAL_COMMAND config artifact helm account add chartmuseum \
          --repository http://chartmuseum-chartmuseum.storage:8080
      enable_gcs.sh: |-
        echo "enabling gcs artifact"
        $HAL_COMMAND config artifact gcs enable
        $HAL_COMMAND config artifact gcs account add gcs \
          --json-path /opt/gcs/key.json
      enable_no_auth_http.hs: |-
        echo "enabling http artifact"
        $HAL_COMMAND config artifact http enable
  resources:
    requests:
      memory: 500Mi
      cpu: 100m
    limits:
      memory: 1Gi
      cpu: 200m
dockerRegistries:
- name: dockerhub
  address: index.docker.io
  repositories:
    - hugocortes/me
    - hugocortes/blue-green
spinnakerFeatureFlags:
  - artifacts
  - jobs
  - pipeline-templates
  - managed-pipeline-templates-v2-ui
  - artifacts-rewrite
minio:
  enabled: false
gcs:
  enabled: true
redis:
  enabled: false
  external:
    host: redis-master.storage
